<?php

$title = "Dark Souls 3 Cheat Sheet";
$desc = "Cheat Sheet for Dark Souls 3. Checklist of things to do, items to get etc.";
$long_desc = "The following is a checklist and set of information I use when playing Dark Souls III to make sure I don't miss
    an item, conversation or boss. I hope you find it useful. A big thanks goes out to the community
    of contributors on the <a href=\"http://darksouls3.wiki.fextralife.com/Dark+Souls+3+Wiki\">Dark Souls 3 Wiki</a> where
    some of this information is borrowed from. If this is your first time visiting this page please check
    out the Help section.";
$long_desc_subtitle = "Warning: Contains Spoilers";
$default_link_location = "http://darksouls3.wiki.fextralife.com/";
$default_link_space_character = "+";
$listname = "Playthrough";
$template = "template/template.in"; # You shouldn't need to modify this

#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------
#----------------------------------------------------------------------------





echo "Generating output file\n\n";
foreach(glob("php_lib/*.php") as $filename)
    require_once($filename);


$default_link_location = rtrim($default_link_location,"/\\");


$body = new Template;
$body->SetTitle($title);
$body->SetListName($listname);
$body->SetDesc($desc);
$body->SetLongDesc($long_desc);
$body->SetSubtitle($long_desc_subtitle);

#create content
foreach(glob("sections/*.md") as $filename)
{
    $section++;
    $s = new Section($default_link_location,$default_link_space_character,$section);
    $s->GenerateSection($filename);

    $body->AddContent("<div section-header-id=\"".$section."\">","\n");
    $body->AddContent("<h3 onclick=\"ToggleHeader(".$section.")\">".$s->GetNiceName()." <span title-section=\"".$section."\" title-id=\"title_".$section."\"></span></h3>","\n");
    $body->AddContent($s->GetContentString(),"\n");
    $body->AddContent("</div>","\n");
}

foreach(glob("js/*.js") as $filename) $body->AddJSFile($filename);
foreach(glob("css/*.css") as $filename) $body->AddCSSFile($filename);

# Create Output File
@unlink("output.html");
file_put_contents("output.html",$body->GetText());
?>
